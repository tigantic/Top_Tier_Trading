# Example environment file for the trading platform
# Copy this file to `.env` and customise values as needed.  This file
# complements `conf/secrets.env.example` with additional variables
# consumed by the CI and local development scripts.

##################################
# Core Application Configuration #
##################################

# Comma‑separated list of products to trade
ALLOWED_MARKETS=BTC-USD,ETH-USD

# Toggle usage of the official Coinbase SDK wrappers.  When true,
# the workers will initialise `MarketDataClient` and `UserChannelClient`.
USE_OFFICIAL_SDK=false

# Path to write event log (JSON Lines).  Leave blank to disable event sourcing.
EVENT_STORE_PATH=

################################
# Prometheus / Grafana / Metrics
################################

PROMETHEUS_PORT=9108
GRAFANA_PORT=3000

#############################################
# Ops Bot & Alerting (Slack / Teams / Redis)
#############################################

# URL for the Prometheus metrics endpoint used by the ops bot
METRICS_URL=http://prometheus:9108/metrics

# Redis connection (for event bus and alert streaming)
REDIS_HOST=redis
REDIS_PORT=6379

# Enable alert service and ops bot alerts (true/false)
ALERT_ENABLE=false

# PnL threshold for alerts.  Alert is triggered when `-daily_pnl >= ALERT_PNL_THRESHOLD`.
ALERT_PNL_THRESHOLD=0

# Deduplication TTL for alert messages (seconds)
ALERT_DEDUP_TTL=60

# Slack alert channel ID (e.g. C12345)
SLACK_ALERT_CHANNEL=

# Teams webhook URL for alerts (optional)
TEAMS_WEBHOOK_URL=

# Port for the ops bot health endpoint
HEALTH_PORT=8080

###################################
# Reinforcement Learning Strategies
###################################

# SMA crossover window length
SMA_WINDOW=20

# Deep Q‑Network hyperparameters
DQN_LR=0.01
DQN_GAMMA=0.9
DQN_EPSILON_START=0.2
DQN_EPSILON_MIN=0.01
DQN_EPSILON_DECAY=0.995
DQN_SIZE=0.001

##################################
# Secret Backend Configuration    #
##################################

# Select the secrets backend: env, aws or vault
SECRETS_BACKEND=env

# AWS Secrets Manager configuration (when SECRETS_BACKEND=aws)
AWS_SECRETS_PREFIX=trading-platform
AWS_REGION=us-east-1

# Vault configuration (when SECRETS_BACKEND=vault)
VAULT_ADDR=
VAULT_TOKEN=
VAULT_PREFIX=trading-platform